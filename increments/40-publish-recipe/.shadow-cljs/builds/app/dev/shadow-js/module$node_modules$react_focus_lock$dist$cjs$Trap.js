["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/react-focus-lock/dist/cjs/Trap.js"],"~:js","shadow$provide.module$node_modules$react_focus_lock$dist$cjs$Trap=function(global,process,require,module,exports,shadow$shims){function autoGuard(startIndex,end,step,allNodes){var lastGuard=null,i=startIndex;do{var item=allNodes[i];if(item.guard)item.node.dataset.focusAutoGuard&&(lastGuard=item);else if(item.lockItem){if(i!==startIndex)return;lastGuard=null}else break}while((i+=step)!==end);lastGuard&&(lastGuard.node.tabIndex=0)}global=require(\"module$node_modules$$babel$runtime$helpers$interopRequireWildcard\");\nprocess=require(\"module$node_modules$$babel$runtime$helpers$interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:!0});exports.default=exports.onFocus=exports.onBlur=void 0;var _toConsumableArray2=process(require(\"module$node_modules$$babel$runtime$helpers$toConsumableArray\"));process(require(\"module$node_modules$react$index\"));process(require(\"module$node_modules$prop_types$index\"));process=process(require(\"module$node_modules$react_clientside_effect$lib$index\"));var _focusLock=\nglobal(require(\"module$node_modules$focus_lock$dist$cjs$index\")),_util=require(\"module$node_modules$react_focus_lock$dist$cjs$util\"),lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,defaultWhitelist=function(){return!0},extractRef=function(ref){return ref&&\"current\"in ref?ref.current:ref},activateTrap=function(){var result=!1;if(lastActiveTrap){var _lastActiveTrap=lastActiveTrap,persistentFocus=_lastActiveTrap.persistentFocus,autoFocus=_lastActiveTrap.autoFocus,shards=_lastActiveTrap.shards;\n_lastActiveTrap=_lastActiveTrap.observed||lastPortaledElement&&lastPortaledElement.portaledElement;var activeElement=document&&document.activeElement;if(_lastActiveTrap){shards=[_lastActiveTrap].concat((0,_toConsumableArray2.default)(shards.map(extractRef).filter(Boolean)));if(!activeElement||(lastActiveTrap.whiteList||defaultWhitelist)(activeElement))if(persistentFocus||!(document&&document.activeElement===document.body||(0,_focusLock.focusIsHidden)())||!lastActiveFocus&&autoFocus)!_lastActiveTrap||\n(0,_focusLock.focusInside)(shards)||lastPortaledElement&&lastPortaledElement.portaledElement===activeElement||(document&&!lastActiveFocus&&activeElement&&!autoFocus?(activeElement.blur(),document.body.focus()):(result=(0,_focusLock.default)(shards,lastActiveFocus),lastPortaledElement={})),lastActiveFocus=document&&document.activeElement;if(document){var newActiveElement=document&&document.activeElement;persistentFocus=(0,_focusLock.getFocusabledIn)(shards);if(autoFocus=persistentFocus.find(function(_ref){return _ref.node===\nnewActiveElement}))persistentFocus.filter(function(_ref2){var node=_ref2.node;return _ref2.guard&&node.dataset.focusAutoGuard}).forEach(function(_ref3){return _ref3.node.removeAttribute(\"tabIndex\")}),autoFocus=persistentFocus.indexOf(autoFocus),autoGuard(autoFocus,persistentFocus.length,1,persistentFocus),autoGuard(autoFocus,-1,-1,persistentFocus)}}}return result},onTrap=function(event){activateTrap()&&event&&(event.stopPropagation(),event.preventDefault())},onBlur=function(){return(0,_util.deferAction)(activateTrap)};\nexports.onBlur=onBlur;exports.onFocus=function(event){var source=event.target;event=event.currentTarget;event.contains(source)||(lastPortaledElement={observerNode:event,portaledElement:source})};require=(0,process.default)(function(propsList){return propsList.filter(function(_ref5){return!_ref5.disabled}).slice(-1)[0]},function(trap){trap&&!lastActiveTrap&&(document.addEventListener(\"focusin\",onTrap,!0),document.addEventListener(\"focusout\",onBlur));var lastTrap=lastActiveTrap,sameTrap=lastTrap&&trap&&\ntrap.onActivation===lastTrap.onActivation;lastActiveTrap=trap;if(lastTrap&&!sameTrap)lastTrap.onDeactivation();if(trap){lastActiveFocus=null;if(!sameTrap||lastTrap.observed!==trap.observed)trap.onActivation();activateTrap(!0);(0,_util.deferAction)(activateTrap)}else document.removeEventListener(\"focusin\",onTrap,!0),document.removeEventListener(\"focusout\",onBlur),lastActiveFocus=null})(function(){return null});exports.default=require}","~:source","shadow$provide[\"module$node_modules$react_focus_lock$dist$cjs$Trap\"] = function(global,process,require,module,exports,shadow$shims) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.onFocus = exports.onBlur = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClientsideEffect = _interopRequireDefault(require(\"react-clientside-effect\"));\n\nvar _focusLock = _interopRequireWildcard(require(\"focus-lock\"));\n\nvar _util = require(\"./util\");\n\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\n\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || (0, _focusLock.focusIsHidden)();\n};\n\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar lastPortaledElement = null;\n\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\n\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\n\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\n\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\n\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n\n  do {\n    var item = allNodes[i];\n\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        // we will tab to the next element\n        return;\n      }\n\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\n\nvar extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\n\nvar activateTrap = function activateTrap() {\n  var result = false;\n\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n        observed = _lastActiveTrap.observed,\n        persistentFocus = _lastActiveTrap.persistentFocus,\n        autoFocus = _lastActiveTrap.autoFocus,\n        shards = _lastActiveTrap.shards;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    var activeElement = document && document.activeElement;\n\n    if (workingNode) {\n      var workingArea = [workingNode].concat((0, _toConsumableArray2.default)(shards.map(extractRef).filter(Boolean)));\n\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !((0, _focusLock.focusInside)(workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              activeElement.blur();\n              document.body.focus();\n            } else {\n              result = (0, _focusLock.default)(workingArea, lastActiveFocus);\n              lastPortaledElement = {};\n            }\n          }\n\n          lastActiveFocus = document && document.activeElement;\n        }\n      }\n\n      if (document) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = (0, _focusLock.getFocusabledIn)(workingArea);\n        var focusedItem = allNodes.find(function (_ref) {\n          var node = _ref.node;\n          return node === newActiveElement;\n        });\n\n        if (focusedItem) {\n          // remove old focus\n          allNodes.filter(function (_ref2) {\n            var guard = _ref2.guard,\n                node = _ref2.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref3) {\n            var node = _ref3.node;\n            return node.removeAttribute('tabIndex');\n          });\n          var focusedIndex = allNodes.indexOf(focusedItem);\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n\n  return result;\n};\n\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    // prevent scroll jump\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\n\nvar onBlur = function onBlur() {\n  return (0, _util.deferAction)(activateTrap);\n};\n\nexports.onBlur = onBlur;\n\nvar onFocus = function onFocus(event) {\n  // detect portal\n  var source = event.target;\n  var currentNode = event.currentTarget;\n\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\n\nexports.onFocus = onFocus;\n\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\n\nvar FocusTrap = function FocusTrap(_ref4) {\n  var children = _ref4.children;\n  return _react.default.createElement(\"div\", {\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, children);\n};\n\nFocusTrap.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: _propTypes.default.node.isRequired\n} : {};\n\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap, true);\n  document.addEventListener('focusout', onBlur);\n};\n\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap, true);\n  document.removeEventListener('focusout', onBlur);\n};\n\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref5) {\n    var disabled = _ref5.disabled;\n    return !disabled;\n  }).slice(-1)[0];\n}\n\nfunction handleStateChangeOnClient(trap) {\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.onActivation === lastTrap.onActivation;\n  lastActiveTrap = trap;\n\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation();\n  }\n\n  if (trap) {\n    lastActiveFocus = null;\n\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation();\n    }\n\n    activateTrap(true);\n    (0, _util.deferAction)(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n}\n\nvar _default = (0, _reactClientsideEffect.default)(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);\n\nexports.default = _default;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$react_focus_lock$dist$cjs$util","~$module$node_modules$react_clientside_effect$lib$index","~$module$node_modules$$babel$runtime$helpers$interopRequireWildcard","~$module$node_modules$$babel$runtime$helpers$interopRequireDefault","~$module$node_modules$react$index","~$module$node_modules$prop_types$index","~$shadow.js","~$module$node_modules$$babel$runtime$helpers$toConsumableArray","~$module$node_modules$focus_lock$dist$cjs$index"]],"~:properties",["^5",["tabIndex","__esModule","portaledElement","value","onFocus","onBlur","observerNode","default"]],"~:compiled-at",1553719333540,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$react_focus_lock$dist$cjs$Trap.js\",\n\"lineCount\":8,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/react-focus-lock/dist/cjs/Trap.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$react_focus_lock$dist$cjs$Trap\\\"] = function(global,process,require,module,exports,shadow$shims) {\\n\\\"use strict\\\";\\n\\nvar _interopRequireWildcard = require(\\\"@babel/runtime/helpers/interopRequireWildcard\\\");\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.onFocus = exports.onBlur = void 0;\\n\\nvar _toConsumableArray2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/toConsumableArray\\\"));\\n\\nvar _react = _interopRequireDefault(require(\\\"react\\\"));\\n\\nvar _propTypes = _interopRequireDefault(require(\\\"prop-types\\\"));\\n\\nvar _reactClientsideEffect = _interopRequireDefault(require(\\\"react-clientside-effect\\\"));\\n\\nvar _focusLock = _interopRequireWildcard(require(\\\"focus-lock\\\"));\\n\\nvar _util = require(\\\"./util\\\");\\n\\nvar focusOnBody = function focusOnBody() {\\n  return document && document.activeElement === document.body;\\n};\\n\\nvar isFreeFocus = function isFreeFocus() {\\n  return focusOnBody() || (0, _focusLock.focusIsHidden)();\\n};\\n\\nvar lastActiveTrap = null;\\nvar lastActiveFocus = null;\\nvar lastPortaledElement = null;\\n\\nvar defaultWhitelist = function defaultWhitelist() {\\n  return true;\\n};\\n\\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\\n};\\n\\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\\n  lastPortaledElement = {\\n    observerNode: observerNode,\\n    portaledElement: portaledElement\\n  };\\n};\\n\\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\\n};\\n\\nfunction autoGuard(startIndex, end, step, allNodes) {\\n  var lastGuard = null;\\n  var i = startIndex;\\n\\n  do {\\n    var item = allNodes[i];\\n\\n    if (item.guard) {\\n      if (item.node.dataset.focusAutoGuard) {\\n        lastGuard = item;\\n      }\\n    } else if (item.lockItem) {\\n      if (i !== startIndex) {\\n        // we will tab to the next element\\n        return;\\n      }\\n\\n      lastGuard = null;\\n    } else {\\n      break;\\n    }\\n  } while ((i += step) !== end);\\n\\n  if (lastGuard) {\\n    lastGuard.node.tabIndex = 0;\\n  }\\n}\\n\\nvar extractRef = function extractRef(ref) {\\n  return ref && 'current' in ref ? ref.current : ref;\\n};\\n\\nvar activateTrap = function activateTrap() {\\n  var result = false;\\n\\n  if (lastActiveTrap) {\\n    var _lastActiveTrap = lastActiveTrap,\\n        observed = _lastActiveTrap.observed,\\n        persistentFocus = _lastActiveTrap.persistentFocus,\\n        autoFocus = _lastActiveTrap.autoFocus,\\n        shards = _lastActiveTrap.shards;\\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\\n    var activeElement = document && document.activeElement;\\n\\n    if (workingNode) {\\n      var workingArea = [workingNode].concat((0, _toConsumableArray2.default)(shards.map(extractRef).filter(Boolean)));\\n\\n      if (!activeElement || focusWhitelisted(activeElement)) {\\n        if (persistentFocus || !isFreeFocus() || !lastActiveFocus && autoFocus) {\\n          if (workingNode && !((0, _focusLock.focusInside)(workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\\n              activeElement.blur();\\n              document.body.focus();\\n            } else {\\n              result = (0, _focusLock.default)(workingArea, lastActiveFocus);\\n              lastPortaledElement = {};\\n            }\\n          }\\n\\n          lastActiveFocus = document && document.activeElement;\\n        }\\n      }\\n\\n      if (document) {\\n        var newActiveElement = document && document.activeElement;\\n        var allNodes = (0, _focusLock.getFocusabledIn)(workingArea);\\n        var focusedItem = allNodes.find(function (_ref) {\\n          var node = _ref.node;\\n          return node === newActiveElement;\\n        });\\n\\n        if (focusedItem) {\\n          // remove old focus\\n          allNodes.filter(function (_ref2) {\\n            var guard = _ref2.guard,\\n                node = _ref2.node;\\n            return guard && node.dataset.focusAutoGuard;\\n          }).forEach(function (_ref3) {\\n            var node = _ref3.node;\\n            return node.removeAttribute('tabIndex');\\n          });\\n          var focusedIndex = allNodes.indexOf(focusedItem);\\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\\n          autoGuard(focusedIndex, -1, -1, allNodes);\\n        }\\n      }\\n    }\\n  }\\n\\n  return result;\\n};\\n\\nvar onTrap = function onTrap(event) {\\n  if (activateTrap() && event) {\\n    // prevent scroll jump\\n    event.stopPropagation();\\n    event.preventDefault();\\n  }\\n};\\n\\nvar onBlur = function onBlur() {\\n  return (0, _util.deferAction)(activateTrap);\\n};\\n\\nexports.onBlur = onBlur;\\n\\nvar onFocus = function onFocus(event) {\\n  // detect portal\\n  var source = event.target;\\n  var currentNode = event.currentTarget;\\n\\n  if (!currentNode.contains(source)) {\\n    recordPortal(currentNode, source);\\n  }\\n};\\n\\nexports.onFocus = onFocus;\\n\\nvar FocusWatcher = function FocusWatcher() {\\n  return null;\\n};\\n\\nvar FocusTrap = function FocusTrap(_ref4) {\\n  var children = _ref4.children;\\n  return _react.default.createElement(\\\"div\\\", {\\n    onBlur: onBlur,\\n    onFocus: onFocus\\n  }, children);\\n};\\n\\nFocusTrap.propTypes = process.env.NODE_ENV !== \\\"production\\\" ? {\\n  children: _propTypes.default.node.isRequired\\n} : {};\\n\\nvar attachHandler = function attachHandler() {\\n  document.addEventListener('focusin', onTrap, true);\\n  document.addEventListener('focusout', onBlur);\\n};\\n\\nvar detachHandler = function detachHandler() {\\n  document.removeEventListener('focusin', onTrap, true);\\n  document.removeEventListener('focusout', onBlur);\\n};\\n\\nfunction reducePropsToState(propsList) {\\n  return propsList.filter(function (_ref5) {\\n    var disabled = _ref5.disabled;\\n    return !disabled;\\n  }).slice(-1)[0];\\n}\\n\\nfunction handleStateChangeOnClient(trap) {\\n  if (trap && !lastActiveTrap) {\\n    attachHandler();\\n  }\\n\\n  var lastTrap = lastActiveTrap;\\n  var sameTrap = lastTrap && trap && trap.onActivation === lastTrap.onActivation;\\n  lastActiveTrap = trap;\\n\\n  if (lastTrap && !sameTrap) {\\n    lastTrap.onDeactivation();\\n  }\\n\\n  if (trap) {\\n    lastActiveFocus = null;\\n\\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\\n      trap.onActivation();\\n    }\\n\\n    activateTrap(true);\\n    (0, _util.deferAction)(activateTrap);\\n  } else {\\n    detachHandler();\\n    lastActiveFocus = null;\\n  }\\n}\\n\\nvar _default = (0, _reactClientsideEffect.default)(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);\\n\\nexports.default = _default;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"process\",\"require\",\"module\",\"exports\",\"shadow$shims\",\"autoGuard\",\"startIndex\",\"end\",\"step\",\"allNodes\",\"lastGuard\",\"i\",\"item\",\"guard\",\"node\",\"dataset\",\"focusAutoGuard\",\"lockItem\",\"tabIndex\",\"_interopRequireWildcard\",\"_interopRequireDefault\",\"Object\",\"defineProperty\",\"value\",\"default\",\"onFocus\",\"onBlur\",\"_toConsumableArray2\",\"_reactClientsideEffect\",\"_focusLock\",\"_util\",\"lastActiveTrap\",\"lastActiveFocus\",\"lastPortaledElement\",\"defaultWhitelist\",\"extractRef\",\"ref\",\"current\",\"activateTrap\",\"result\",\"_lastActiveTrap\",\"persistentFocus\",\"autoFocus\",\"shards\",\"workingNode\",\"observed\",\"portaledElement\",\"activeElement\",\"document\",\"workingArea\",\"concat\",\"map\",\"filter\",\"Boolean\",\"whiteList\",\"body\",\"focusIsHidden\",\"focusInside\",\"blur\",\"focus\",\"newActiveElement\",\"getFocusabledIn\",\"focusedItem\",\"find\",\"_ref\",\"_ref2\",\"forEach\",\"_ref3\",\"removeAttribute\",\"focusedIndex\",\"indexOf\",\"length\",\"onTrap\",\"event\",\"stopPropagation\",\"preventDefault\",\"deferAction\",\"source\",\"target\",\"currentNode\",\"currentTarget\",\"contains\",\"observerNode\",\"_default\",\"reducePropsToState\",\"propsList\",\"_ref5\",\"disabled\",\"slice\",\"handleStateChangeOnClient\",\"trap\",\"addEventListener\",\"lastTrap\",\"sameTrap\",\"onActivation\",\"onDeactivation\",\"removeEventListener\",\"FocusWatcher\"]\n}\n"]