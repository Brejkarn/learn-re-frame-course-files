["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/focus-lock/dist/cjs/focusMerge.js"],"~:js","shadow$provide.module$node_modules$focus_lock$dist$cjs$focusMerge=function(global,process,require,module,exports,shadow$shims){Object.defineProperty(exports,\"__esModule\",{value:!0});exports.newFocus=void 0;var _DOMutils=require(\"module$node_modules$focus_lock$dist$cjs$utils$DOMutils\"),_firstFocus2=(global=require(\"module$node_modules$focus_lock$dist$cjs$utils$firstFocus\"))&&global.__esModule?global:{default:global},_allAffected2=(require=require(\"module$node_modules$focus_lock$dist$cjs$utils$all_affected\"))&&\nrequire.__esModule?require:{default:require},findAutoFocused=function(autoFocusables){return function(node){return!!node.autofocus||node.dataset&&!!node.dataset.autofocus||0<=autoFocusables.indexOf(node)}},newFocus=exports.newFocus=function(innerNodes,outerNodes,activeElement,lastNode,autoFocused){var cnt=innerNodes.length,firstFocus=innerNodes[0],lastFocus=innerNodes[cnt-1];if(!(0<=innerNodes.indexOf(activeElement))){activeElement=outerNodes.indexOf(activeElement);var lastIndex=outerNodes.indexOf(lastNode||\nactiveElement);lastNode=innerNodes.indexOf(lastNode);lastIndex=activeElement-lastIndex;firstFocus=outerNodes.indexOf(firstFocus);outerNodes=outerNodes.indexOf(lastFocus);if(-1===activeElement||-1===lastNode)return innerNodes.indexOf(autoFocused.length?(0,_firstFocus2.default)(autoFocused):(0,_firstFocus2.default)(innerNodes));if(!lastIndex&&0<=lastNode||lastIndex&&1<Math.abs(lastIndex))return lastNode;if(activeElement<=firstFocus)return cnt-1;if(activeElement>outerNodes)return 0;if(lastIndex)return 1<\nMath.abs(lastIndex)?lastNode:(cnt+lastNode+lastIndex)%cnt}},getTopCommonParent=function(activeElement,entry,entries){var topCommon=entry;entries.forEach(function(subEntry){(subEntry=(0,_DOMutils.getCommonParent)(activeElement,subEntry))&&(topCommon=subEntry.contains(topCommon)?subEntry:(0,_DOMutils.getCommonParent)(subEntry,topCommon))});return topCommon},allParentAutofocusables=function(entries){return entries.reduce(function(acc,node){return acc.concat((0,_DOMutils.parentAutofocusables)(node))},\n[])},notAGuard=function(node){return!(node.dataset&&node.dataset.focusGuard)};exports.default=function(topNode,lastNode){var activeElement=document&&document.activeElement,entries=(0,_allAffected2.default)(topNode).filter(notAGuard),commonParent=getTopCommonParent(activeElement||topNode,topNode,entries);topNode=(0,_DOMutils.getTabbableNodes)(entries).filter(function(_ref){return notAGuard(_ref.node)});if(!topNode[0]&&(topNode=(0,_DOMutils.getAllTabbableNodes)(entries).filter(function(_ref2){return notAGuard(_ref2.node)}),\n!topNode[0]))return;var innerNodes=topNode.map(function(_ref3){return _ref3.node});commonParent=(0,_DOMutils.getTabbableNodes)([commonParent]).map(function(_ref4){return _ref4.node});lastNode=newFocus(innerNodes,commonParent,activeElement,lastNode,innerNodes.filter(findAutoFocused(allParentAutofocusables(entries))));return void 0===lastNode?lastNode:topNode[lastNode]}}","~:source","shadow$provide[\"module$node_modules$focus_lock$dist$cjs$focusMerge\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newFocus = undefined;\n\nvar _DOMutils = require('./utils/DOMutils');\n\nvar _firstFocus = require('./utils/firstFocus');\n\nvar _firstFocus2 = _interopRequireDefault(_firstFocus);\n\nvar _allAffected = require('./utils/all-affected');\n\nvar _allAffected2 = _interopRequireDefault(_allAffected);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar findAutoFocused = function findAutoFocused(autoFocusables) {\n  return function (node) {\n    return !!node.autofocus || node.dataset && !!node.dataset.autofocus || autoFocusables.indexOf(node) >= 0;\n  };\n};\n\nvar newFocus = exports.newFocus = function newFocus(innerNodes, outerNodes, activeElement, lastNode, autoFocused) {\n  var cnt = innerNodes.length;\n  var firstFocus = innerNodes[0];\n  var lastFocus = innerNodes[cnt - 1];\n\n  // focus is inside\n  if (innerNodes.indexOf(activeElement) >= 0) {\n    return undefined;\n  }\n\n  var activeIndex = outerNodes.indexOf(activeElement);\n  var lastIndex = outerNodes.indexOf(lastNode || activeIndex);\n  var lastNodeInside = innerNodes.indexOf(lastNode);\n  var indexDiff = activeIndex - lastIndex;\n  var firstNodeIndex = outerNodes.indexOf(firstFocus);\n  var lastNodeIndex = outerNodes.indexOf(lastFocus);\n\n  // new focus\n  if (activeIndex === -1 || lastNodeInside === -1) {\n    return innerNodes.indexOf(autoFocused.length ? (0, _firstFocus2.default)(autoFocused) : (0, _firstFocus2.default)(innerNodes));\n  }\n  // old focus\n  if (!indexDiff && lastNodeInside >= 0) {\n    return lastNodeInside;\n  }\n  // jump out\n  if (indexDiff && Math.abs(indexDiff) > 1) {\n    return lastNodeInside;\n  }\n  // focus above lock\n  if (activeIndex <= firstNodeIndex) {\n    return cnt - 1;\n  }\n  // focus below lock\n  if (activeIndex > lastNodeIndex) {\n    return 0;\n  }\n  // index is inside tab order, but outside Lock\n  if (indexDiff) {\n    if (Math.abs(indexDiff) > 1) {\n      return lastNodeInside;\n    }\n    return (cnt + lastNodeInside + indexDiff) % cnt;\n  }\n  // do nothing\n  return undefined;\n};\n\nvar getTopCommonParent = function getTopCommonParent(activeElement, entry, entries) {\n  var topCommon = entry;\n  entries.forEach(function (subEntry) {\n    var common = (0, _DOMutils.getCommonParent)(activeElement, subEntry);\n    if (common) {\n      if (common.contains(topCommon)) {\n        topCommon = common;\n      } else {\n        topCommon = (0, _DOMutils.getCommonParent)(common, topCommon);\n      }\n    }\n  });\n  return topCommon;\n};\n\nvar allParentAutofocusables = function allParentAutofocusables(entries) {\n  return entries.reduce(function (acc, node) {\n    return acc.concat((0, _DOMutils.parentAutofocusables)(node));\n  }, []);\n};\n\nvar notAGuard = function notAGuard(node) {\n  return !(node.dataset && node.dataset.focusGuard);\n};\n\nvar getFocusMerge = function getFocusMerge(topNode, lastNode) {\n  var activeElement = document && document.activeElement;\n  var entries = (0, _allAffected2.default)(topNode).filter(notAGuard);\n\n  var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n\n  var innerElements = (0, _DOMutils.getTabbableNodes)(entries).filter(function (_ref) {\n    var node = _ref.node;\n    return notAGuard(node);\n  });\n\n  if (!innerElements[0]) {\n    innerElements = (0, _DOMutils.getAllTabbableNodes)(entries).filter(function (_ref2) {\n      var node = _ref2.node;\n      return notAGuard(node);\n    });\n    if (!innerElements[0]) {\n      return undefined;\n    }\n  }\n\n  var innerNodes = innerElements.map(function (_ref3) {\n    var node = _ref3.node;\n    return node;\n  });\n\n  var outerNodes = (0, _DOMutils.getTabbableNodes)([commonParent]).map(function (_ref4) {\n    var node = _ref4.node;\n    return node;\n  });\n\n  var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode, innerNodes.filter(findAutoFocused(allParentAutofocusables(entries))));\n\n  if (newId === undefined) {\n    return newId;\n  }\n  return innerElements[newId];\n};\n\nexports.default = getFocusMerge;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$focus_lock$dist$cjs$utils$all_affected","~$module$node_modules$focus_lock$dist$cjs$utils$firstFocus","~$shadow.js","~$module$node_modules$focus_lock$dist$cjs$utils$DOMutils"]],"~:properties",["^5",["__esModule","value","newFocus","default"]],"~:compiled-at",1551716962733,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$focus_lock$dist$cjs$focusMerge.js\",\n\"lineCount\":6,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/focus-lock/dist/cjs/focusMerge.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$focus_lock$dist$cjs$focusMerge\\\"] = function(global,process,require,module,exports,shadow$shims) {\\n'use strict';\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.newFocus = undefined;\\n\\nvar _DOMutils = require('./utils/DOMutils');\\n\\nvar _firstFocus = require('./utils/firstFocus');\\n\\nvar _firstFocus2 = _interopRequireDefault(_firstFocus);\\n\\nvar _allAffected = require('./utils/all-affected');\\n\\nvar _allAffected2 = _interopRequireDefault(_allAffected);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nvar findAutoFocused = function findAutoFocused(autoFocusables) {\\n  return function (node) {\\n    return !!node.autofocus || node.dataset && !!node.dataset.autofocus || autoFocusables.indexOf(node) >= 0;\\n  };\\n};\\n\\nvar newFocus = exports.newFocus = function newFocus(innerNodes, outerNodes, activeElement, lastNode, autoFocused) {\\n  var cnt = innerNodes.length;\\n  var firstFocus = innerNodes[0];\\n  var lastFocus = innerNodes[cnt - 1];\\n\\n  // focus is inside\\n  if (innerNodes.indexOf(activeElement) >= 0) {\\n    return undefined;\\n  }\\n\\n  var activeIndex = outerNodes.indexOf(activeElement);\\n  var lastIndex = outerNodes.indexOf(lastNode || activeIndex);\\n  var lastNodeInside = innerNodes.indexOf(lastNode);\\n  var indexDiff = activeIndex - lastIndex;\\n  var firstNodeIndex = outerNodes.indexOf(firstFocus);\\n  var lastNodeIndex = outerNodes.indexOf(lastFocus);\\n\\n  // new focus\\n  if (activeIndex === -1 || lastNodeInside === -1) {\\n    return innerNodes.indexOf(autoFocused.length ? (0, _firstFocus2.default)(autoFocused) : (0, _firstFocus2.default)(innerNodes));\\n  }\\n  // old focus\\n  if (!indexDiff && lastNodeInside >= 0) {\\n    return lastNodeInside;\\n  }\\n  // jump out\\n  if (indexDiff && Math.abs(indexDiff) > 1) {\\n    return lastNodeInside;\\n  }\\n  // focus above lock\\n  if (activeIndex <= firstNodeIndex) {\\n    return cnt - 1;\\n  }\\n  // focus below lock\\n  if (activeIndex > lastNodeIndex) {\\n    return 0;\\n  }\\n  // index is inside tab order, but outside Lock\\n  if (indexDiff) {\\n    if (Math.abs(indexDiff) > 1) {\\n      return lastNodeInside;\\n    }\\n    return (cnt + lastNodeInside + indexDiff) % cnt;\\n  }\\n  // do nothing\\n  return undefined;\\n};\\n\\nvar getTopCommonParent = function getTopCommonParent(activeElement, entry, entries) {\\n  var topCommon = entry;\\n  entries.forEach(function (subEntry) {\\n    var common = (0, _DOMutils.getCommonParent)(activeElement, subEntry);\\n    if (common) {\\n      if (common.contains(topCommon)) {\\n        topCommon = common;\\n      } else {\\n        topCommon = (0, _DOMutils.getCommonParent)(common, topCommon);\\n      }\\n    }\\n  });\\n  return topCommon;\\n};\\n\\nvar allParentAutofocusables = function allParentAutofocusables(entries) {\\n  return entries.reduce(function (acc, node) {\\n    return acc.concat((0, _DOMutils.parentAutofocusables)(node));\\n  }, []);\\n};\\n\\nvar notAGuard = function notAGuard(node) {\\n  return !(node.dataset && node.dataset.focusGuard);\\n};\\n\\nvar getFocusMerge = function getFocusMerge(topNode, lastNode) {\\n  var activeElement = document && document.activeElement;\\n  var entries = (0, _allAffected2.default)(topNode).filter(notAGuard);\\n\\n  var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\\n\\n  var innerElements = (0, _DOMutils.getTabbableNodes)(entries).filter(function (_ref) {\\n    var node = _ref.node;\\n    return notAGuard(node);\\n  });\\n\\n  if (!innerElements[0]) {\\n    innerElements = (0, _DOMutils.getAllTabbableNodes)(entries).filter(function (_ref2) {\\n      var node = _ref2.node;\\n      return notAGuard(node);\\n    });\\n    if (!innerElements[0]) {\\n      return undefined;\\n    }\\n  }\\n\\n  var innerNodes = innerElements.map(function (_ref3) {\\n    var node = _ref3.node;\\n    return node;\\n  });\\n\\n  var outerNodes = (0, _DOMutils.getTabbableNodes)([commonParent]).map(function (_ref4) {\\n    var node = _ref4.node;\\n    return node;\\n  });\\n\\n  var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode, innerNodes.filter(findAutoFocused(allParentAutofocusables(entries))));\\n\\n  if (newId === undefined) {\\n    return newId;\\n  }\\n  return innerElements[newId];\\n};\\n\\nexports.default = getFocusMerge;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"process\",\"require\",\"module\",\"exports\",\"shadow$shims\",\"Object\",\"defineProperty\",\"value\",\"newFocus\",\"undefined\",\"_DOMutils\",\"_firstFocus2\",\"_firstFocus\",\"__esModule\",\"default\",\"_allAffected2\",\"_allAffected\",\"findAutoFocused\",\"autoFocusables\",\"node\",\"autofocus\",\"dataset\",\"indexOf\",\"exports.newFocus\",\"innerNodes\",\"outerNodes\",\"activeElement\",\"lastNode\",\"autoFocused\",\"cnt\",\"length\",\"firstFocus\",\"lastFocus\",\"activeIndex\",\"lastIndex\",\"lastNodeInside\",\"indexDiff\",\"firstNodeIndex\",\"lastNodeIndex\",\"Math\",\"abs\",\"getTopCommonParent\",\"entry\",\"entries\",\"topCommon\",\"forEach\",\"subEntry\",\"common\",\"getCommonParent\",\"contains\",\"allParentAutofocusables\",\"reduce\",\"acc\",\"concat\",\"parentAutofocusables\",\"notAGuard\",\"focusGuard\",\"getFocusMerge\",\"topNode\",\"document\",\"filter\",\"commonParent\",\"innerElements\",\"getTabbableNodes\",\"_ref\",\"getAllTabbableNodes\",\"_ref2\",\"map\",\"_ref3\",\"_ref4\",\"newId\"]\n}\n"]